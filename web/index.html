<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#111317" />
    <title>Bets WebApp</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Include the Dark theme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@5/dark.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
  </head>
  <body>
    <div class="app">
      <header class="header">
        <div class="header-left">
          <div class="logo">
            <span>PRO</span>
          </div>
          <div class="brand">
            <div class="brand-title">Casino</div>
            <div class="brand-subtitle">Football betting</div>
          </div>
        </div>
        <div class="header-right">
          <div class="search-box">
            <input id="search-input" type="text" placeholder="Search league..." />
          </div>
          <div class="header-profile-mobile" id="header-profile-mobile" style="display: none;">
            <div class="profile-balance-mobile" id="profile-balance-mobile">$0.00</div>
            <button class="profile-icon-btn" id="profile-icon-btn" title="Profile">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="header-profile-desktop" id="header-profile-desktop">
            <div class="profile-balance-desktop" id="profile-balance-desktop">$0.00</div>
            <button class="profile-icon-btn-desktop" id="profile-icon-btn-desktop" title="Profile">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </header>

      <nav class="tabs">
        <button class="tab tab-active" data-tab="sportsbook">Sportsbook</button>
        <button class="tab" data-tab="favorites">Favorites</button>
        <button class="tab" data-tab="bets">Bets</button>
        <button class="tab" data-tab="wallet">Wallet</button>
        <button class="tab" data-tab="profile">Profile</button>
      </nav>

      <main class="layout" data-page="sportsbook">
        <section class="content content-full">
          <div class="content-header">
            <div class="content-title">Football</div>
            <div class="content-subtitle">Football ‚Ä¢ All leagues ‚Ä¢ Live ‚Ä¢ Today</div>
          </div>
          <div class="matches-search-wrapper">
            <button class="search-filter-btn" id="search-filter-btn">
              <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Search & Filters</span>
            </button>
          </div>
          <div class="matches" id="matches-list"></div>
        </section>

        <aside class="betslip">
          <div class="betslip-header">
            <div>
              <div class="betslip-title">Bet Slip</div>
              <div class="betslip-subtitle">SINGLE ‚Ä¢ MULTIPLE</div>
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
              <span class="pill" id="slip-count">0</span>
              <button class="betslip-close-btn" id="betslip-close-btn" style="display: none;">√ó</button>
              <button class="betslip-close-btn-desktop" id="betslip-close-btn-desktop" style="display: none;">√ó</button>
            </div>
          </div>
          <div id="slip-items" class="slip-items"></div>
          <div class="slip-summary">
            <div class="row">
              <span>Total odds</span>
              <span id="total-odds">‚Äî</span>
            </div>
            <div class="quick-amounts">
              <button class="quick-btn" data-amount="10">$10</button>
              <button class="quick-btn" data-amount="50">$50</button>
              <button class="quick-btn" data-amount="100">$100</button>
            </div>
            <input
              type="number"
              id="stake-input"
              class="input"
              placeholder="Amount"
              min="0"
            />
            <div class="row">
              <span>Possible win</span>
              <span id="possible-win">$0.00</span>
            </div>
            <button id="place-bet-btn" class="primary-btn">Place bet</button>
            <button id="clear-slip-btn" class="ghost-btn">Clear slip</button>
          </div>
        </aside>
      </main>

      <main class="page page-hidden" data-page="wallet">
        <section class="card">
          <h2>Wallet</h2>
          <p>Cryptocurrency deposits, limits and withdrawal requests.</p>
          <div class="grid-2">
            <div class="subcard">
              <div class="label">Balance</div>
              <div class="value-large" id="wallet-balance">$0.00</div>
            </div>
            <div class="subcard">
              <div class="label">Credit Limit</div>
              <div class="value-large" id="wallet-credit-limit">$0.00</div>
            </div>
          </div>
          <div class="subcard mt" id="wallet-debt-container" style="display: none;">
            <div class="label" style="color: rgba(248, 113, 113, 0.9);">Credit Debt</div>
            <div class="value-large" id="wallet-current-debt" style="color: #f97373;">$0.00</div>
            <p style="font-size: 11px; color: rgba(232, 232, 234, 0.6); margin-top: 8px;">Debt will be automatically paid off on next deposit</p>
            <div class="actions-row" style="margin-top: 12px;">
              <button class="primary-btn" id="btn-pay-debt" style="width: 100%;">Pay Now</button>
            </div>
          </div>
          <div class="subcard mt">
            <div class="label">Cryptocurrency Deposit</div>
            <div class="wallet-box" style="margin-top: 12px;">
              <div class="label">USDT (TRC20)</div>
              <div class="mono" id="wallet-usdt">Loading...</div>
              <button id="copy-main-wallet" class="ghost-btn" style="margin-top: 8px; padding: 6px 12px; font-size: 11px; width: auto; display: none;">Copy Address</button>
            </div>
            <div class="actions-row">
              <button class="primary-btn" id="btn-deposit">I Sent Deposit</button>
              <button class="ghost-btn" id="btn-deposit-history">Deposit History</button>
            </div>
          </div>
          <div class="grid-2 mt">
            <div class="subcard">
              <div class="label">Request Limit</div>
              <p>Send a request to increase your credit limit.</p>
              <div class="actions-row">
                <button class="primary-btn" id="btn-request-limit">Request Increase</button>
                <button class="ghost-btn" id="btn-credit-status">Status</button>
              </div>
            </div>
            <div class="subcard">
              <div class="label">Request Withdrawal</div>
              <p>Create a withdrawal request for your betting winnings.</p>
              <div class="actions-row">
                <button class="primary-btn" id="btn-withdrawal">Create Request</button>
                <button class="ghost-btn" id="btn-withdrawal-history">My Withdrawals</button>
              </div>
            </div>
          </div>
          
          <div class="subcard mt">
            <div class="label">Deposit History</div>
            <div id="wallet-deposits-history" class="wallet-history-scroll" style="margin-top: 8px;">
              <div class="loading">Loading...</div>
            </div>
          </div>
          
          <div class="subcard mt">
            <div class="label">Withdrawal History</div>
            <div id="wallet-withdrawals-history" class="wallet-history-scroll" style="margin-top: 8px;">
              <div class="loading">Loading...</div>
            </div>
          </div>
        </section>
      </main>

      <main class="page page-hidden" data-page="bets">
        <section class="card">
          <h2>My Bets</h2>
          <p>View and track all your betting history.</p>
          
          <!-- Status Filters -->
          <div class="bets-filters">
            <button class="bet-filter-btn bet-filter-active" data-status="all">All</button>
            <button class="bet-filter-btn" data-status="pending">Pending</button>
            <button class="bet-filter-btn" data-status="active">Active</button>
            <button class="bet-filter-btn" data-status="won">Won</button>
            <button class="bet-filter-btn" data-status="lost">Lost</button>
            <button class="bet-filter-btn" data-status="cancelled">Cancelled</button>
          </div>

          <!-- Bets List -->
          <div id="bets-list" class="bets-list">
            <!-- Bets will be rendered here -->
          </div>

          <!-- Empty State -->
          <div id="bets-empty" class="bets-empty" style="display: none;">
            <div class="bets-empty-icon">üìã</div>
            <div class="bets-empty-title">No bets found</div>
            <div class="bets-empty-text">You haven't placed any bets yet</div>
          </div>
        </section>
      </main>

      <main class="page page-hidden" data-page="favorites">
        <section class="card">
          <h2>Favorites</h2>
          <p>Your favorite leagues and matches.</p>
          <div class="favorites-tabs">
            <button class="favorite-tab-btn favorite-tab-active" data-favorite-type="leagues">Leagues</button>
            <button class="favorite-tab-btn" data-favorite-type="matches">Matches</button>
          </div>
          <div id="favorites-leagues-list" class="favorites-list"></div>
          <div id="favorites-matches-list" class="favorites-list" style="display: none;"></div>
          <div id="favorites-empty" class="bets-empty" style="display: none;">
            <div class="bets-empty-icon">‚≠ê</div>
            <div class="bets-empty-title">No favorites yet</div>
            <div class="bets-empty-text">Add leagues or matches to favorites to see them here</div>
          </div>
        </section>
      </main>

      <main class="page page-hidden" data-page="profile">
        <section class="card">
          <h2>Profile</h2>
          <p>Telegram account and settings.</p>
          <div class="grid-2 mt">
            <div class="wallet-box">
              <div class="label">User</div>
              <div class="value" id="profile-username">Loading...</div>
            </div>
            <div class="wallet-box">
              <div class="label">Role</div>
              <div class="value">Player</div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Match Detail Modal -->
    <div id="match-detail-modal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-main-wrapper">
          <div class="modal-main-content">
            <div class="modal-header">
              <h2 id="modal-match-title">Match Details</h2>
              <button class="modal-close" id="modal-close-btn">√ó</button>
            </div>
            <div class="modal-body" id="modal-body">
              <div class="loading">Loading...</div>
            </div>
          </div>
          <div class="modal-betslip-container" id="modal-betslip-container"></div>
        </div>
      </div>
    </div>

    <!-- BetSlip Overlay (Desktop) -->
    <div id="betslip-modal-overlay" class="betslip-modal-overlay"></div>
    
    <!-- Floating BetSlip Button -->
    <button id="betslip-float-btn" class="betslip-float-btn">
      <span class="betslip-float-icon">üìã</span>
      <span class="betslip-float-count" id="betslip-float-count">0</span>
    </button>

    <!-- BetSlip Overlay (Mobile Only) -->
    <div id="betslip-overlay" class="betslip-overlay" style="display: none;"></div>

    <!-- Bottom Navigation Menu (Mobile Only) -->
    <nav class="bottom-nav" id="bottom-nav">
      <button class="bottom-nav-item" data-nav="sportsbook" title="Sportsbook">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="bottom-nav-label">Home</span>
      </button>
      <button class="bottom-nav-item" data-nav="favorites" title="Favorites">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="bottom-nav-label">Favorites</span>
      </button>
      <button class="bottom-nav-item" data-nav="bets" title="Bets">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2V22M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H14.5C15.4283 12 16.3185 12.3687 16.9749 13.0251C17.6313 13.6815 18 14.5717 18 15.5C18 16.4283 17.6313 17.3185 16.9749 17.9749C16.3185 18.6313 15.4283 19 14.5 19H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="bottom-nav-label">Bets</span>
      </button>
      <button class="bottom-nav-item" data-nav="betslip" title="Bet Slip">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V5C15 6.10457 14.1046 7 13 7H11C9.89543 7 9 6.10457 9 5V5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 12H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 16H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="18" cy="6" r="4" fill="#dc2626" stroke="#111317" stroke-width="2" id="bottom-nav-betslip-circle"/>
          <text x="18" y="9" text-anchor="middle" fill="#111317" font-size="8" font-weight="bold" id="bottom-nav-betslip-count">0</text>
        </svg>
        <span class="bottom-nav-label">Slip</span>
      </button>
      <button class="bottom-nav-item" data-nav="wallet" title="Wallet">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 4H3C1.89543 4 1 4.89543 1 6V18C1 19.1046 1.89543 20 3 20H21C22.1046 20 23 19.1046 23 18V6C23 4.89543 22.1046 4 21 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M1 10H23" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="bottom-nav-label">Wallet</span>
      </button>
      <button class="bottom-nav-item" data-nav="profile" title="Profile">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="bottom-nav-label">Profile</span>
      </button>
    </nav>

    <!-- Deposit Modal -->
    <div id="deposit-modal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Deposit</h2>
          <button class="modal-close" id="deposit-modal-close">√ó</button>
        </div>
        <div class="modal-body">
            <div class="subcard">
              <div class="label">Currency</div>
              <select id="deposit-currency" class="input" disabled>
                <option value="USDT">USDT (TRC20)</option>
              </select>
            <div style="margin-top: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.1);">
              <div class="label" style="margin-bottom: 6px; font-size: 11px; color: rgba(232, 232, 234, 0.7);">Wallet address for deposit:</div>
              <div id="deposit-wallet-address" class="mono" style="font-size: 14px; font-weight: 600; word-break: break-all; color: #f4f4f5; line-height: 1.4;">Loading...</div>
              <button id="copy-wallet-address" class="ghost-btn" style="margin-top: 8px; padding: 6px 12px; font-size: 11px; width: auto;">Copy Address</button>
            </div>
          </div>
          <div class="subcard mt">
            <div class="label">Deposit Amount</div>
            <input type="number" id="deposit-amount" class="input" placeholder="Enter amount" min="0" step="0.01" />
          </div>
          <div class="subcard mt">
            <div class="label">Transaction Hash</div>
            <input type="text" id="deposit-hash" class="input" placeholder="Enter transaction hash" />
          </div>
          <div class="actions-row mt">
            <button class="primary-btn" id="deposit-submit">Submit Request</button>
            <button class="ghost-btn" id="deposit-cancel">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Withdrawal Modal -->
    <div id="withdrawal-modal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Withdrawal Request</h2>
          <button class="modal-close" id="withdrawal-modal-close">√ó</button>
        </div>
        <div class="modal-body">
          <div class="subcard">
            <div class="label">Withdrawal Amount</div>
            <input type="number" id="withdrawal-amount" class="input" placeholder="Enter amount" min="0" step="0.01" />
          </div>
          <div class="subcard mt">
            <div class="label">Wallet Address</div>
            <input type="text" id="withdrawal-wallet" class="input" placeholder="Enter wallet address" />
          </div>
            <div class="subcard mt">
              <div class="label">Currency</div>
              <select id="withdrawal-currency" class="input" disabled>
                <option value="USDT">USDT</option>
              </select>
            </div>
          <div class="actions-row mt">
            <button class="primary-btn" id="withdrawal-submit">Submit Request</button>
            <button class="ghost-btn" id="withdrawal-cancel">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- History Modal -->
    <div id="history-modal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="history-modal-title">History</h2>
          <button class="modal-close" id="history-modal-close">√ó</button>
        </div>
        <div class="modal-body" id="history-modal-body">
          <div class="loading">Loading...</div>
        </div>
      </div>
    </div>

    <!-- Credit Request Modal -->
    <div id="credit-request-modal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Credit Limit Increase Request</h2>
          <button class="modal-close" id="credit-request-modal-close">√ó</button>
        </div>
        <div class="modal-body">
          <div class="subcard">
            <div class="label">Current Credit Limit</div>
            <div class="value-large" id="current-credit-limit">$0.00</div>
          </div>
          <div class="subcard mt">
            <div class="label">New Credit Limit</div>
            <input type="number" id="requested-credit-limit" class="input" placeholder="Enter amount" min="0" step="0.01" />
            <p style="font-size: 11px; color: rgba(232, 232, 234, 0.6); margin-top: 8px;">Amount must be greater than current limit</p>
          </div>
          <div class="actions-row mt">
            <button class="primary-btn" id="credit-request-submit">Submit Request</button>
            <button class="ghost-btn" id="credit-request-cancel">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Search & Filters Modal -->
    <div id="search-filters-modal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content search-filters-modal-content">
        <div class="modal-header">
          <h2>Search & Filters</h2>
          <button class="modal-close" id="search-filters-modal-close">√ó</button>
        </div>
        <div class="modal-body search-filters-body">
          <div class="search-section">
            <label class="search-label">Search Matches</label>
            <div class="search-input-wrapper">
              <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <input type="text" id="search-matches-input" class="search-matches-input" placeholder="Search by teams, leagues..." />
              <button id="search-matches-clear" class="search-clear-btn" style="display: none;">√ó</button>
            </div>
          </div>
          
          <div class="leagues-filter-section">
            <label class="search-label">Select Leagues</label>
            <div class="leagues-filter-search-wrapper">
              <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <input type="text" id="leagues-filter-search" class="leagues-filter-search-input" placeholder="Search leagues..." />
            </div>
            <div id="leagues-filter-list" class="leagues-filter-list"></div>
          </div>
          
          <div class="search-filters-actions">
            <button class="ghost-btn" id="search-filters-reset">Reset</button>
            <button class="primary-btn" id="search-filters-apply">Apply</button>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js?v=5"></script>
    <script src="wallet.js"></script>
  </body>
</html>

