<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#111317" />
    <title>Bets Admin</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <div class="app">
      <header class="header">
        <div class="header-left">
          <div class="logo">ADM</div>
          <div>
            <div class="brand-title">BetsBot Admin</div>
            <div class="brand-subtitle">Users • Limits • Payouts</div>
          </div>
        </div>
      </header>

      <nav class="tabs" id="admin-tabs" style="display: none;">
        <button class="tab tab-active" data-tab="dashboard">Dashboard</button>
        <button class="tab" data-tab="users">Users</button>
        <button class="tab" data-tab="deposits">Deposits</button>
        <button class="tab" data-tab="payouts">Payouts</button>
        <button class="tab" data-tab="settings">Settings</button>
      </nav>

      <main class="page" data-page="dashboard">
        <section class="card">
          <h2>Dashboard</h2>
          <p>Обзор: пользователи, лимиты, ставки, заявки на выплаты (демо данные).</p>
          <div class="grid-3 mt">
            <div class="subcard">
              <div class="label">Users</div>
              <div class="value-large" id="stat-users">0</div>
            </div>
            <div class="subcard">
              <div class="label">Total staked</div>
              <div class="value-large" id="stat-staked">0</div>
            </div>
            <div class="subcard">
              <div class="label">Pending payouts</div>
              <div class="value-large" id="stat-pending">0</div>
            </div>
          </div>
        </section>
      </main>

      <main class="page page-hidden" data-page="users">
        <section class="card">
          <h2>Users</h2>
          <p>Просмотр игроков и редактирование кредитных лимитов.</p>
          <div class="mt">
            <input id="users-search" class="input" placeholder="Search by @tg or id..." />
          </div>
          <div class="table mt" id="users-table"></div>
        </section>
      </main>

      <main class="page page-hidden" data-page="deposits">
        <section class="card">
          <h2>Deposits</h2>
          <p>Подтверждение заявок на пополнение.</p>
          <div class="mt">
            <input id="deposits-search" class="input" placeholder="Search deposits..." />
          </div>
          <div class="grid-3 mt">
            <div class="subcard">
              <div class="label">Pending</div>
              <div class="value-large" id="dstat-pending">0</div>
            </div>
            <div class="subcard">
              <div class="label">Approved</div>
              <div class="value-large" id="dstat-approved">0</div>
            </div>
            <div class="subcard">
              <div class="label">Rejected</div>
              <div class="value-large" id="dstat-rejected">0</div>
            </div>
          </div>
          <div class="table mt" id="deposits-table"></div>
        </section>
      </main>

      <main class="page page-hidden" data-page="payouts">
        <section class="card">
          <h2>Payouts</h2>
          <p>Подтверждение запросов игроков на выплаты.</p>
          <div class="mt">
            <input id="payouts-search" class="input" placeholder="Search payouts..." />
          </div>
          <div class="grid-3 mt">
            <div class="subcard">
              <div class="label">Pending</div>
              <div class="value-large" id="pstat-pending">0</div>
            </div>
            <div class="subcard">
              <div class="label">Approved</div>
              <div class="value-large" id="pstat-approved">0</div>
            </div>
            <div class="subcard">
              <div class="label">Rejected</div>
              <div class="value-large" id="pstat-rejected">0</div>
            </div>
          </div>
          <div class="table mt" id="payouts-table"></div>
        </section>
      </main>

      <main class="page page-hidden" data-page="settings">
        <section class="card">
          <h2>Settings</h2>
          <p>Управление кошельками и паролем администратора.</p>
          
          <div class="subcard mt">
            <h3 style="margin-top: 0;">Кошельки для пополнения</h3>
            <div class="mt">
              <div class="label">USDT (TRC20)</div>
              <input type="text" id="wallet-usdt" class="input" placeholder="USDT wallet address" />
            </div>
            <div class="mt">
              <div class="label">BTC</div>
              <input type="text" id="wallet-btc" class="input" placeholder="BTC wallet address" />
            </div>
            <div class="mt">
              <div class="label">ETH</div>
              <input type="text" id="wallet-eth" class="input" placeholder="ETH wallet address" />
            </div>
            <div class="actions-row mt">
              <button class="primary-btn" id="btn-save-wallets">Сохранить кошельки</button>
            </div>
          </div>

          <div class="subcard mt">
            <h3 style="margin-top: 0;">Смена пароля</h3>
            <div class="mt">
              <div class="label">Текущий пароль</div>
              <input type="password" id="old-password" class="input" placeholder="Current password" />
            </div>
            <div class="mt">
              <div class="label">Новый пароль</div>
              <input type="password" id="new-password" class="input" placeholder="New password (min 8 chars)" />
            </div>
            <div class="actions-row mt">
              <button class="primary-btn" id="btn-change-password">Изменить пароль</button>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="modal" style="display: flex;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Admin Login</h2>
        </div>
        <div class="modal-body">
          <div class="subcard">
            <div class="label">Password</div>
            <input type="password" id="login-password" class="input" placeholder="Enter admin password" />
          </div>
          <div class="actions-row mt">
            <button class="primary-btn" id="btn-login">Login</button>
          </div>
          <div id="login-error" style="color: #f97373; margin-top: 10px; display: none;"></div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>

