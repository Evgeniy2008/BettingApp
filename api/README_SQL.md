# üìã SQL —Ñ–∞–π–ª—ã –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üéØ –ö–∞–∫–æ–π —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### –ï—Å–ª–∏ –ë–î —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
**`create_tables.sql`** - —Å–æ–∑–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—ã ‚≠ê
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –µ—Å–ª–∏ –ë–î —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î
- ‚úÖ –í–∫–ª—é—á–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –û–¥–∏–Ω —Ñ–∞–π–ª - –≤—Å–µ –≥–æ—Ç–æ–≤–æ!

### –î–ª—è –Ω–æ–≤–æ–π –ë–î (—Å–æ–∑–¥–∞–µ—Ç –ë–î + —Ç–∞–±–ª–∏—Ü—ã):
**`create_full_database.sql`** - —Å–æ–∑–¥–∞–µ—Ç –ë–î –∏ —Ç–∞–±–ª–∏—Ü—ã —Å –Ω—É–ª—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ë–î —Å –Ω—É–ª—è
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç CREATE DATABASE
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–æ–ª—è
- ‚úÖ –í–∫–ª—é—á–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É:
1. `database.sql` - –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
2. `create_bets_table.sql` - —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç–∞–≤–æ–∫
3. `add_credit_system.sql` - —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—è
4. `add_currency_to_deposits.sql` - –≤–∞–ª—é—Ç–∞ –≤ –¥–µ–ø–æ–∑–∏—Ç–∞—Ö
5. `add_bet_details_field_simple.sql` - –ø–æ–ª–µ bet_details

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –¢–∞–±–ª–∏—Ü—ã:

1. **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - telegram_id, telegram_username
   - balance, credit_limit, current_debt
   - session_token

2. **deposits** - –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
   - amount, transaction_hash, currency
   - status (pending/approved/rejected)

3. **withdrawals** - –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥
   - amount, wallet_address, currency
   - status (pending/approved/rejected)

4. **bets** - —Å—Ç–∞–≤–∫–∏
   - match_id, outcome_key, odd, stake
   - status (pending/active/won/lost/cancelled/refunded)
   - bet_details (JSON)

5. **admin_settings** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∫–∏
   - admin_password
   - deposit_wallet_usdt

6. **admin_sessions** - —Å–µ—Å—Å–∏–∏ –∞–¥–º–∏–Ω–∞
   - token, expires_at

7. **credit_requests** - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∫—Ä–µ–¥–∏—Ç
   - requested_limit
   - status (pending/approved/rejected)

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ë–î

### –ù–∞ 000webhost:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin** –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞):
   - –ò–º—è: `id12345678_betsbot` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
   - –ö–æ–¥–∏—Ä–æ–≤–∫–∞: `utf8mb4_unicode_ci`
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é –ë–î

3. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –ë–î** (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–µ –≤ —Å–ø–∏—Å–∫–µ —Å–ª–µ–≤–∞)

4. **–í–∫–ª–∞–¥–∫–∞ "Import" (–ò–º–ø–æ—Ä—Ç)** –∏–ª–∏ **"SQL"**

5. **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª:**
   - –ï—Å–ª–∏ –ë–î —É–∂–µ –µ—Å—Ç—å: **`create_tables.sql`** ‚≠ê
   - –ï—Å–ª–∏ –ë–î –Ω–µ—Ç: **`create_full_database.sql`**

6. **–ù–∞–∂–º–∏—Ç–µ "Go" (–í–ø–µ—Ä–µ–¥)**

7. **–ì–æ—Ç–æ–≤–æ!** –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

8. **–û–±–Ω–æ–≤–∏—Ç–µ `api/config.php`:**
   ```php
   define('DB_NAME', 'id12345678_betsbot');
   define('DB_USER', 'id12345678_user');
   define('DB_PASS', '–≤–∞—à_–ø–∞—Ä–æ–ª—å');
   ```

---

## üîê –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ü–∞—Ä–æ–ª—å:** `admin123`

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É!

---

## üìù –ü–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏)

–ï—Å–ª–∏ –ë–î —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å:

1. `database.sql` - –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
2. `create_bets_table.sql` - —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç–∞–≤–æ–∫
3. `add_credit_system.sql` - –∫—Ä–µ–¥–∏—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
4. `add_currency_to_deposits.sql` - –≤–∞–ª—é—Ç–∞
5. `add_bet_details_field_simple.sql` - –ø–æ–ª–µ bet_details

**–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `create_full_database.sql` - –æ–Ω —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Å—Ä–∞–∑—É!**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:**
   ```sql
   SHOW TABLES;
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 7 —Ç–∞–±–ª–∏—Ü:
   - users
   - deposits
   - withdrawals
   - bets
   - admin_settings
   - admin_sessions
   - credit_requests

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∞:**
   ```sql
   SELECT * FROM admin_settings;
   ```
   –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ —Å `admin_password` –∏ `deposit_wallet_usdt`

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü:**
   ```sql
   DESCRIBE users;
   DESCRIBE bets;
   ```
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –Ω–∞ –º–µ—Å—Ç–µ

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Table already exists":
- –¢–∞–±–ª–∏—Ü–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ

### –û—à–∏–±–∫–∞ "Unknown database":
- –°–æ–∑–¥–∞–π—Ç–µ –ë–î —Å–Ω–∞—á–∞–ª–∞ –≤ phpMyAdmin
- –ò–ª–∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –≤ SQL

### –û—à–∏–±–∫–∞ "Access denied":
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

### –û—à–∏–±–∫–∞ "Foreign key constraint fails":
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `users` —Å–æ–∑–¥–∞–Ω–∞ –ø–µ—Ä–≤–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `utf8mb4_unicode_ci` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —ç–º–æ–¥–∑–∏
- –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ —Å `ON DELETE CASCADE`
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- Timestamps –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ `create_full_database.sql` –≤–∞—à–∞ –ë–î –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!
